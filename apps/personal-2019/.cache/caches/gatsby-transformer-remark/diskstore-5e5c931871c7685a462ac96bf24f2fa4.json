{"expireTime":9007200894403823000,"key":"transformer-remark-markdown-html-75b758d9cd0c3b56b60beead306ded58-gatsby-remark-autolink-headersgatsby-remark-imagesgatsby-remark-copy-linked-filesgatsby-remark-prismjs-","val":"<h1 id=\"the-difference-between-event-targets-in-javascript-and-how-to-use-them-to-optimize-your-app\" style=\"position:relative;\"><a href=\"#the-difference-between-event-targets-in-javascript-and-how-to-use-them-to-optimize-your-app\" aria-label=\"the difference between event targets in javascript and how to use them to optimize your app permalink\" class=\"Blog-share before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The difference between Event Targets in JavaScript and how to use them to optimize your app.</h1>\n<p>Imagine an app that contains 200 clickable elements on a page. A real example may be the email list in the single-page app. Each email listens to a <code class=\"language-text\">click</code> event to subsequently open an overlay with the contents of the email. You don't want to switch on other pages often, so you tick the option to view 200 e-mails per page. You now have a minimum of 200 event listeners on your page that had to be allocated. Such quantities can already cause problems with the page's performance on older machines. Such a problem can be solved simply by Event targets. The popular Javascript Library ReactJS uses the same solution to optimize applications. As experts at Facebook, you can find how to address this problem below.</p>\n<hr>\n<p>Anyone who has worked with Event Handlers responding to user interactions has met Event Targets. Event target is an object that contains information about the element above which the event occurred. The definition is quite straightforward. What's confusing is the fact that each event has two to three Event Targets out of a total of three possible.\nAll events contain targets:</p>\n<ul>\n<li>event.target</li>\n<li>event.currentTarget</li>\n</ul>\n<p>Additionally, events that occur as a result of the user's interaction with the positioning device (mouse, touchpad) have the following target:</p>\n<ul>\n<li>event.relatedTarget</li>\n</ul>\n<h2 id=\"eventrelatedtarget\" style=\"position:relative;\"><a href=\"#eventrelatedtarget\" aria-label=\"eventrelatedtarget permalink\" class=\"Blog-share before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>event.relatedTarget</h2>\n<p>Let's start with the least known but simplest, namely <code class=\"language-text\">event.relatedTarget</code> This object is used in MouseEvent for example for mouseenter, when we use the cursor to go to the element (e.g. id=red) that listens to this event. Object relatedTarget after calling mouseenter contains the surrounding element from which we drove the cursor on our element (red).</p>\n<p>So the relatedTarget object contains a secondary target. What relatedTarget contains at what event can be read in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/relatedTarget\">documentation</a>.\nWith this, we discussed relatedTarget, and now we can look at the other two (target, currentTarget) that can achieve the mentioned optimization.</p>\n<h2 id=\"event-delegation\" style=\"position:relative;\"><a href=\"#event-delegation\" aria-label=\"event delegation permalink\" class=\"Blog-share before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Event delegation</h2>\n<p>To understand the difference between target and currentTarget, you need to understand the so-called Event delagation. This is a technique of delegating listening to parent element events for all events that take place inside a given parent element. What the event does is so-called Event Bubbling, where every event bubbles through all the parent elements to the <code class=\"language-text\">html</code> element. Any listener in any parent can capture this bubbling event.</p>\n<p>Thanks to Event Delegation, on the <code class=\"language-text\">html</code> element we can capture all the events that occurred anywhere on the page.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// this funcionality can be stopped via</span>\nevent<span class=\"token punctuation\">.</span><span class=\"token function\">stopPropagation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"eventtarget-vs-eventcurrenttarget\" style=\"position:relative;\"><a href=\"#eventtarget-vs-eventcurrenttarget\" aria-label=\"eventtarget vs eventcurrenttarget permalink\" class=\"Blog-share before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>event.target vs event.currentTarget</h2>\n<p>We already know how events work. So what's the difference between target and currentTarget? Target contains a reference to the object above which the event was called, while currentTarget is the ready-only object of the element to which the event listener was attached. This can be better explained in the example. We'll use an e-mail list from the introduction as an example. So we create a sheet with items in HTML</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>e-mail #1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>e-mail #2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>e-mail #3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>In JavaScript, we'll add an event listener to listen to <code class=\"language-text\">click</code> events on <code class=\"language-text\">&lt;ul></code> elemenent</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"list\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nlist<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">debugger</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>In the event of a <code class=\"language-text\">click</code>, debugging functionality (if it exists in the environment) is triggered. When we run the code in the browser where it will act as a breakpoint (the execution of the code stops). After bumping into our breakpoint, we can explore the content of the transformations.\nSo we open the above code in the browser while opening DevTools (F12). We'll see a sheet and three items in it (email #1-3). When we click on the first item, we get stuck on Breakpoint and can explore variables in the suspended page. In this case, we are interested in the value of the <code class=\"language-text\">event</code> parameter in the arrow function inside <code class=\"language-text\">addEventListener</code>. On the screenshot below, we can see that currentTarget refers to the <code class=\"language-text\">&lt;ul></code> sheet. If you point the cursor on <code class=\"language-text\">ul#list</code>, what element is referenced will be marked on your page.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/040e104aed599c665360870aa0c8bab8/2c95d/targets-debug-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 113.7142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9UlEQVQ4y6WS247aMBCG8yKrFTh2bMc4zgkHJ4U9ENEX6ONwxx3Hey7RVtpeLIeVWOC6VH2sTqCs2lJts+XTyPoznj8zTmx9fniYTqfz+XzxO5B4fl583S/3++W37y+gz0oW1pfHx9lsdm5+fQXE09Pfd63lcrlarRb/hbW4gMvM8wuwXt5kvV5vt9vdbrfZbM53rfF4PIIYDUfDYaEPDAaDo55MJr1er9vt9vt90KMTx13LGFPXum4yY1IgSZLWgUajEcex1ppSWqlUlFJQeczACmVRFFmg7m5vE6hNjVIeFAVBAEl1wPM8eAzD0Pd9dYblJ9H9p4+B8rXUvhcqL8DYRgjZJbD8MLjv5JSyVGSJSjmXCFXtclgwabvdZoyFLG7UjKCSUmHb5TrD6GCmjAU0NDITTBFCkV3MjUqbqXaTTLU4D2y7ShFi1SoEefPwP82Ms0Q0mt6NlpkvgzrC8dVVcH3NKxVUpnPM60nNcIdjjBEmVYwh0D/Hzg/mkEeZbNZchQl5xwfL27lDqRFGy5RSWdL5OnYOndPahxt1x5n3XnMxdsSjWCQYk+J6neIPfk2exs5z13XhVykR2QRTUoCJQ47hABTOBStoDKrQTmGGq9/pdGpS1l3dVK1AaikEXDiHuQ7jFIK7DMIVsBZJLtxDATT/AWhz2QgPev2lAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/040e104aed599c665360870aa0c8bab8/c54d4/targets-debug-1.webp 175w,\n/static/040e104aed599c665360870aa0c8bab8/a3432/targets-debug-1.webp 350w,\n/static/040e104aed599c665360870aa0c8bab8/426ac/targets-debug-1.webp 700w,\n/static/040e104aed599c665360870aa0c8bab8/c139f/targets-debug-1.webp 1050w,\n/static/040e104aed599c665360870aa0c8bab8/ac796/targets-debug-1.webp 1099w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/040e104aed599c665360870aa0c8bab8/4edbd/targets-debug-1.png 175w,\n/static/040e104aed599c665360870aa0c8bab8/13ae7/targets-debug-1.png 350w,\n/static/040e104aed599c665360870aa0c8bab8/8c557/targets-debug-1.png 700w,\n/static/040e104aed599c665360870aa0c8bab8/e996b/targets-debug-1.png 1050w,\n/static/040e104aed599c665360870aa0c8bab8/2c95d/targets-debug-1.png 1099w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/040e104aed599c665360870aa0c8bab8/8c557/targets-debug-1.png\"\n            alt=\"Screenshot of DevTools with currentTarget\"\n            title=\"Screenshot of DevTools with currentTarget\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Screenshot of DevTools with currentTarget</figcaption>\n  </figure>\nAfter scrolling, we also see a target that refers to the item we clicked on.\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5a4339a76612bcf5171d3139b0aa2364/e3829/targets-debug-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 102.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB70lEQVQ4y6WRyY7aQBCG+0U4DHYv1e02tsELzaKRGSkPkGfhwgmJTTzC5Da5IRQ2KQeCYCZvlmozQzJAolH4VC7ZVfrL1X+Tr09Pj49fVhcsl6vNZvX8vD4c1i8/v+M7Vs4g8/l8Nput/sJiUcS35dUuWa/XGxz7X5DVDdwmXtwA+fFPttvtfr8/HA673e6yS0aj0XA4HB/zeHzMg8FgMplgC3Ov1+t2u/1+fzqdYhcrp0zSNI2iqJqkcZwkcVKr1bIsNcZUq9UgCLDlum6pVJJSHithGJ4yqZt656Hjad8EjXZ0HwWx8iyigHOOMvwEAHEBSXKTf/4EXMQyibyUUnDKFucDkCRN8k4uBLT9diu4l1BxXcf9GAQP2bFi0dKtut+klONIK7f5nFPxtzjPcwBptKl4VcqY4JRxTrlgHM8suIAiEMAKE6+H/1MMsUoznUU69tEtEAwUB4lDQaoiPMwCFANPKYUu2jMXa3fQ1VglqTbANe5k/cLnLSx3hYvlO8d5tfPdn1OVGb8Z6Iwzdlz5eFVQICVuiyHPDUMxbtLwm+h2y/WaZWEo1MtO6JQZDuJ2Cl6zPT+HK2Kc3NCtZsWEoKXwFYSMwbU7sxVK6Tsx2pJ4aaDQLPQGtK8964sSxdq+b+sKbQNbxE+pFIp/AXyZuhPN5XUDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/5a4339a76612bcf5171d3139b0aa2364/c54d4/targets-debug-2.webp 175w,\n/static/5a4339a76612bcf5171d3139b0aa2364/a3432/targets-debug-2.webp 350w,\n/static/5a4339a76612bcf5171d3139b0aa2364/426ac/targets-debug-2.webp 700w,\n/static/5a4339a76612bcf5171d3139b0aa2364/c139f/targets-debug-2.webp 1050w,\n/static/5a4339a76612bcf5171d3139b0aa2364/f0bfb/targets-debug-2.webp 1077w\"\n              sizes=\"(max-width: 700px) 100vw, 700px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/5a4339a76612bcf5171d3139b0aa2364/4edbd/targets-debug-2.png 175w,\n/static/5a4339a76612bcf5171d3139b0aa2364/13ae7/targets-debug-2.png 350w,\n/static/5a4339a76612bcf5171d3139b0aa2364/8c557/targets-debug-2.png 700w,\n/static/5a4339a76612bcf5171d3139b0aa2364/e996b/targets-debug-2.png 1050w,\n/static/5a4339a76612bcf5171d3139b0aa2364/e3829/targets-debug-2.png 1077w\"\n            sizes=\"(max-width: 700px) 100vw, 700px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/5a4339a76612bcf5171d3139b0aa2364/8c557/targets-debug-2.png\"\n            alt=\"Screenshot of DevTools with target\"\n            title=\"Screenshot of DevTools with target\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Screenshot of DevTools with target</figcaption>\n  </figure>\nSo we see that the target contains an element that was clicked on and a currentTarget element that listened to the click. The keen eye will also notice relatedTarget, as it is also a <code class=\"language-text\">click</code> event MouseEvent.\nWe now have a solid understanding of the difference between target and currentTarget.</p>\n<p><strong>Note:</strong> <code class=\"language-text\">debugger</code> in code we use primarily because currentTarget is only available at the time of processing the event. So if we call <code class=\"language-text\">console.log(event)</code>, you'll see currentTarget as <code class=\"language-text\">null</code> in a given object. Beware of this little thing!</p>\n<h2 id=\"optimization\" style=\"position:relative;\"><a href=\"#optimization\" aria-label=\"optimization permalink\" class=\"Blog-share before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Optimization</h2>\n<p>So how do they translate this difference into code optimization? If we had a few tens / hundreds / thousands of related elements on the page that had their own event handlers, we would unnecessarily overwhelm the browser. We would also overwhelm us. For each element, we would have to add an event listener and possibly remove it. That can get out of control. So a simpler approach is to set one event listener to a parent element (in our case <code class=\"language-text\">&lt;ul></code>) that will use the target to distinguish between clicks on individual items (e-mails in <code class=\"language-text\">&lt;li></code>).\nThe same approach is used by the aforementioned ReactJS. This sets one event listener to a root element that captures all the events that it subsequently assigns to individual listers like <a href=\"https://reactjs.org/docs/events.html\">SyntheticEvent</a>. SyntheticEvent is the wrapper of a native event because of cross-browser compatibility. With this delegation, ReactJS will achieve considerable optimisation.</p>\n<p><strong>Note:</strong> in applications with ReactJS, this optimization is unnecessary as it already does so by React.</p>\n<h2 id=\"summary\" style=\"position:relative;\"><a href=\"#summary\" aria-label=\"summary permalink\" class=\"Blog-share before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Summary</h2>\n<p>I explained the difference between target, currentTarget and relatedTarget. We know relatedTarget is only on MouseEvent Events. Also, the difference between target and currentTarget using event delagation using event Bubbling, which can be used for optimization.</p>"}